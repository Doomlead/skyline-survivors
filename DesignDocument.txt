# Skyline Survivors: Urban Defender - Revised Design Document

## 1. Core Concept

A modern reimagining of Defender/Stargate fused with Strike Force, Vampire Survivors, and Blaster Master-style vehicle/foot combat.

### Key Themes:
- **Defend and Reclaim**: Districts exist in three states - friendly, threatened, or enemy-occupied
- Seamlessly transition between piloting a strike ship and fighting on foot when destroyed
- Rescue armed ground operatives to aid in combat
- Dynamic front lines with strategic territory control

---

## 2. High-Level Structure

### 2.1. System View Orbital Map

**Purpose:** Strategic command center showing planetary control status

**Elements:**
- **City districts** displayed as nodes with three states:
  - ðŸŸ¢ **Friendly** (Secured) - No immediate action needed
  - ðŸŸ¡ **Threatened** (Under Attack) - Requires defense
  - ðŸ”´ **Occupied** (Enemy Controlled) - Requires assault
- **Battleships** roam between nodes, attacking friendly districts
- **Special nodes:**
  - Weapons Satellite (Shop)
  - **Mothership** (Final Endgame Target - unlocked when all districts secured)
  - Optional Challenge Missions

**Mechanics:**
- **Defensive Missions:** Select threatened districts to defend from 15 waves
- **Assault Missions:** Attack occupied districts to destroy enemy ground bases
- **Consequence System:** Ignoring threatened districts â†’ District falls to enemy control â†’ Becomes assault mission
- **Victory Condition:** Secure all districts â†’ Unlock Mothership assault

---

### 2.2. Side-Scrolling Combat View

**Perspective:** Horizontal wraparound map above a cityscape

#### Defense Missions (Threatened Districts)
- Defend district from 15 waves of enemies
- Rescue armed ground operatives (comrades)
- Collect power-ups and defeat mini-bosses
- Extract after wave 15 to secure district

#### Assault Missions (Occupied Districts)
- Destroy all enemy forces in the district
- **Primary Objective:** Destroy the enemy ground base
- Ground base has defensive turrets, shields, and garrison forces
- Success: District returns to friendly control
- Failure: Retreat and retry (district remains occupied)

**Key Features:**
- Radar HUD (Defender-style)
- Parallax cityscape with dynamic weather/day-night cycle
- Mission type affects enemy composition and objectives

---

### 2.3. Meta Progression

- **Planetary Control Tracker:** Visual representation of friendly vs. occupied territories
- **Battleship Threat System:** Roaming battleships target friendly districts over time
- **Mothership Unlock:** Only accessible when all districts are secured (none occupied)
- **Dynamic Difficulty:** More occupied districts = stronger battleship presence

---

## 3. Gameplay Overview

### 3.1 Core Loop

1. **System Map:** Assess planetary situation
   - Identify threatened districts (defense needed)
   - Identify occupied districts (assault needed)
   - Track roaming battleships

2. **Mission Selection:**
   - **Defense Mission:** Protect threatened district from 15 waves
   - **Assault Mission:** Destroy enemy base in occupied district

3. **Combat Mission:**
   - Pilot ship â†’ Fight enemies â†’ Complete objective
   - If ship destroyed: Fight on foot with rescued operatives
   - Assault missions require destroying fortified ground base

4. **Extract/Upgrade:**
   - Return to system map
   - Visit Weapons Satellite shop
   - Check district status changes

5. **Campaign Progression:**
   - Secure all districts â†’ Unlock Mothership
   - Assault Mothership â†’ Victory

---

## 4. Player Mechanics

### 4.1. Ship Forms & Movement

#### 4.1.1. Normal Fighter Form
- Movement: 8-directional, slight inertia
- Primary Weapon: Forward blaster (direction matches facing)
- Secondary Actions:
  - Smart Bomb: Screen-clearing attack (limited charges)
  - Hyperspace: Emergency teleport (risky spawn)

#### 4.1.2. Guardian Form
- Activation: Toggle button
- Movement: Drastically slowed
- Aim/Fire: 360Â° aim (mouse/right stick)
- Firepower: Higher DPS, special shot types
- **Critical for Assault Missions:** Base destruction benefits from sustained fire

---

### 4.2. Ground Combat & Operative System

#### 4.2.1. Ship Destruction â†’ Foot Combat
**Ejection Sequence:**
- Ship destroyed â†’ Pilot ejects and lands near crash site
- Rescue nearby comrades to form a squad

**On-Foot Mechanics:**
- Weapons: Pistol, rifle, grenades, improvised weapons
- Cover System: Use debris, buildings, destroyed vehicles
- **Assault Mission Advantage:** Ground combat effective against base defenses
- **Operative AI:**
  - Basic Combat: Auto-fire at enemies
  - Special Roles:
    - Turret Operative: Man mounted guns
    - Medic: Heal player
    - Engineer: Repair vehicles / Sabotage enemy base systems

#### 4.2.2. Rebuilding/Extraction
**Rescue Dropship:**
- Trigger mini-boss fight to secure extraction
- Return to system map with ship rebuilt

**Rebuild Station (Optional):**
- Collect alien tech to rebuild stronger ship (risk/reward)

#### 4.2.3. Comrade Rescue & Mutation Risk
**Rescue Mechanics:**
- Touch comrades to pick them up
- While carried, they fire at enemies (gun pod effect)
- Deposit at safe zones for:
  - Score/currency
  - Temporary buffs (e.g., shield recharge)

**Mutation Risk:**
- Captured comrades become mutant troopers
- Kill mutants for bonus points OR risk rescuing them back
- **In Occupied Districts:** Fewer comrades available (most captured/converted)

---

### 4.3. Power-Up & Weapon System

#### 4.3.1. Power Sources
- Airborne Power Capsules: Dropped by enemies
- Surface Items: Scattered on ground (fly low to collect)
- **Base Destruction Rewards:** Major power-ups from destroyed enemy bases

#### 4.3.2. Upgrade Paths

| System | Upgrade Tier |
|--------|--------------|
| Laser | Single â†’ Twin â†’ Spread â†’ Wave Beam |
| Force Drone | Front â†’ Orbit â†’ Detached |
| Shield | Ablative segments â†’ Timed invulnerability |
| Homing Missiles | Basic â†’ Swarms â†’ Guided Barrage |
| Overdrive | +Duration â†’ +Damage â†’ Screen-Filling Chaos |

#### 4.3.3. Combo Examples
- Force Drone + Spread Laser: Rotating projectile ring
- Afterburner + Shield: "Ram Mode" - crash into base defenses safely
- Homing Missiles + Overdrive: Apocalypse swarm - base siege weapon

---

## 5. Mission Types

### 5.1. Defense Missions (Threatened Districts)

**Objective:** Survive 15 waves of enemies

**Structure:**
- Waves 1-5: Light forces (scouts, drones)
- Waves 6-10: Heavy forces (bombers, landers)
- Waves 11-14: Elite forces (cyber-mutants, assault pods)
- Wave 15: **Battleship** mini-boss

**Success:** District remains friendly
**Failure:** District becomes occupied (requires assault mission)

**Special Features:**
- High comrade density to rescue
- Power-up drops increase per wave
- Bonus rewards for zero civilian casualties

---

### 5.2. Assault Missions (Occupied Districts)

**Objective:** Destroy the enemy ground base

**Structure:**
- Heavy enemy presence throughout district
- **Ground Base Components:**
  - Shield Generators (must destroy to expose core)
  - Defensive Turrets (auto-targeting)
  - Garrison Forces (elite units defending base)
  - Core Reactor (primary target)

**Tactics:**
- Air superiority: Destroy turrets and air defenses
- Ground assault: Deploy on foot to sabotage systems
- Engineers can disable shields faster
- Base destruction triggers explosion and evacuation sequence

**Success:** District returns to friendly control + major reward
**Failure:** Forced retreat, district remains occupied

**Special Features:**
- Minimal comrade presence (most converted to mutants)
- High-value power-ups inside base
- Risky but rewarding infiltration opportunities

---

## 6. Environment Design

### 6.1. Parallax Cityscape
- Foreground: Destroyable buildings, hidden pickups
- Mid-Ground: Traffic, civilians, flying cars
- Background: Megastructures, dynamic weather
- Sky Layer: Day/night cycle affecting visibility

### 6.2. District Themes

| District | Defense Features | Assault Features |
|----------|------------------|------------------|
| Downtown Core | Narrow corridors; ideal for Guardian Mode | Fortified skyscrapers; vertical base structures |
| Industrial Zone | Crushing machinery, toxic spills | Factory bases with assembly line defenses |
| Residential Sector | High comrade density; hostage situations | Underground bunker bases |
| Dockyards | Water enemies, cranes | Naval base with water defenses |
| Orbital Platform | Low gravity, rotating platforms | Space station base with shield layers |

---

## 7. System Map & Meta Layer

### 7.1. System Map Mechanics

**Dynamic Threats:**
- Battleships roam the map, targeting friendly districts
- Districts under battleship attack become threatened
- Timer countdown shows when district will fall if not defended
- Ignoring threats â†’ District captured â†’ New assault mission appears

**District States:**
- ðŸŸ¢ **Friendly:** Secured, generates passive resources
- ðŸŸ¡ **Threatened:** Battleship attacking, defense mission available
- ðŸ”´ **Occupied:** Enemy base established, assault mission required

**Strategic Layer:**
- Prioritize defenses vs. reclamation
- Some districts may be more valuable (resources, strategic position)
- Losing key districts increases battleship aggression

### 7.2. Mothership Assault (Final Mission)

**Unlock Condition:** All districts must be friendly (none occupied)

**Structure:**
- **Phase 1:** Exterior defense ring (battleship gauntlet)
- **Phase 2:** Interior corridors with traps and elite forces
- **Phase 3:** Core boss fight (Mothership Queen/AI)

**End Conditions:**
- **Victory:** Destroy Mothership core â†’ Campaign complete
- **Perfect Run:** Complete campaign without losing any district â†’ Special ending
- **Defeat:** Retreat and continue liberating districts

---

## 8. Enemy Design

### 8.1. Standard Forces

| Enemy Type | Behavior | Defense/Assault |
|------------|----------|-----------------|
| Landers | Abduct comrades â†’ mutate if unchecked | Defense only |
| Mutants | Fast, hijack vehicles/turrets | Both (more in Assault) |
| Bombers | Drop bomb patterns | Defense waves |
| Swarmers | Small, overwhelming numbers | Both |
| Drones | Basic patrol enemies | Both |

### 8.2. Elite Forces

| Enemy Type | Behavior | Primary Context |
|------------|----------|-----------------|
| **Battleships** | Wave 15 mini-boss; roams system map | Defense missions |
| Cyber-Mutants | Blink/teleport, hybrid tech | Assault missions |
| Kaiju Units | Multi-limb bosses; destroy limbs for advantage | Special events |
| Base Defenders | Elite units protecting ground bases | Assault missions only |

### 8.3. Base Defenses (Assault Only)
- **Turrets:** Auto-targeting defense systems
- **Shield Generators:** Protect core reactor
- **Garrison Forces:** Elite troops defending base perimeter
- **Core Reactor:** Primary target, heavily armored

---

## 9. Game Systems

### 9.1. Radar / HUD

**Combat View:**
- Mini-Radar: Shows player, comrades, mutants, pickups
- **Mission Objective Indicator:**
  - Defense: Wave count (X/15)
  - Assault: Base health bar
- Off-screen arrows for priority targets

**System Map:**
- Flashing districts (threatened)
- Red districts (occupied)
- Battleship positions and movement paths
- District timers

### 9.2. Scoring & Rewards

**Points For:**
- Enemy kills
- Comrade rescues/survival
- Mutant reconversions
- **Base destruction** (major bonus)
- No-death runs
- Perfect district defense (no civilian casualties)

**Currency Conversion:**
- Score â†’ Shop resources
- **District Liberation Bonus:** Major currency reward for assault victories
- Unlocks cosmetics/challenges

---

## 10. Progression & Modes

### 10.1. Core Mode: Planetary Liberation Campaign

**Campaign Structure:**
- Start with 30-50% districts friendly, rest occupied
- Battleships begin attacking friendly districts
- Goal: Secure all districts â†’ Unlock Mothership â†’ Destroy Mothership

**Dynamic Campaign:**
- Player choices shape the battlefield
- Lost defenses create new assault challenges
- Strategic decisions affect difficulty curve

### 10.2. Mission Mode
- Handcrafted scenarios:
  - Hold Sector X for 5 minutes
  - Assault Fortress Base in under 10 minutes
  - Escort VIP transports
  - Sabotage enemy supply lines

### 10.3. Boss Rush
- Sequential boss fights:
  - All battleship encounters
  - Special assault base commanders
  - Final Mothership battle

### 10.4. Daily/Weekly Challenges
**Mutators:**
- Double enemy speed
- Only Guardian Mode allowed
- Limited weapons
- **New:** "Assault Only" - All districts start occupied
- **New:** "Last Stand" - All districts threatened simultaneously

---

## 11. Difficulty & Replayability

**Scaling Systems:**
- More occupied districts â†’ Stronger battleship forces
- Failed defenses â†’ Harder assault missions
- District liberation â†’ Unlocks harder battleship variants

**Unlocks:**
- New ship skins
- Permanent buffs for Perfect Runs
- Harder Mothership variants
- **New:** Base assault equipment (bunker busters, EMP bombs)

**Meta Progression:**
- Persistent upgrades carry between campaigns
- Unlock starting advantages (more friendly districts)
- Cosmetic rewards for perfect defense records

---

## 12. Key Design Changes Summary

### Previous System:
- Districts only defended from attacks
- Single "enemy base" endgame
- Motherships were mini-bosses

### New System:
- **Districts have three states:** Friendly, Threatened, Occupied
- **Two mission types:**
  - **Defense:** 15 waves (current gameplay)
  - **Assault:** Destroy enemy ground base
- **Battleships** are mini-bosses that attack districts (renamed from motherships)
- **Mothership** is the final boss (unlocked when all districts secured)
- **Strategic layer:** Balance defending territory vs. reclaiming lost ground
- **Dynamic campaign:** Player failure creates new challenges (occupied districts)
- **Clear victory path:** Secure planet â†’ Assault Mothership â†’ Win

